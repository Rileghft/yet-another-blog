<!-- app/templates/index.html -->

{% extends "base.html" %}
{% import "main/_macro.html" as macros %}

{% block content %}
{%with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="alert alert-warning">
            {% for msg in messages %}
                <p>{{msg}}</p>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}
<div>
    <div class="search-bar">
        <form class="form-inline" action="{{url_for('main.index')}}" method="get">
            <input class="form-control" type="search" name="search" id="search" placeholder="search title or content">
            <button type="submit" class="btn">Search</button>
        </form>
    </div>
    {% include "main/_posts.html" %}
    {{macros.pagination_widget('main.index', pagination, search=search_keywords)}}
</div>
{% endblock %}